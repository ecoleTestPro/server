# üöÄ D√©ploiement manuel (h√©bergement mutualis√©, sans Docker)

## 1. Configuration du `.htaccess`

Placer ce fichier dans `public_html/public` ou `www/public` :

```apache
<IfModule mod_rewrite.c>
   <IfModule mod_negotiation.c>
      Options -MultiViews -Indexes
   </IfModule>

   RewriteEngine On

   # Handle Authorization Header
   RewriteCond %{HTTP:Authorization} .
   RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

   # Redirect Trailing Slashes If Not A Folder...
   RewriteCond %{REQUEST_FILENAME} !-d
   RewriteCond %{REQUEST_URI} (.+)/$
   RewriteRule ^ %1 [L,R=301]

   # Send Requests To Front Controller...
   RewriteCond %{REQUEST_FILENAME} !-d
   RewriteCond %{REQUEST_FILENAME} !-f
   RewriteRule ^ index.php [L]
</IfModule>
```

‚û°Ô∏è Supprimer le fichier `.htaccess` qui se trouve √† la racine de `www/` ou `public_www/`.
‚û°Ô∏è **Recommand√©** : faire pointer directement le domaine vers le dossier `public` (exemple : `testpro-group.com -> www/public`).

---

## 2. Configuration de l‚Äôenvironnement

Modifier le fichier `.env` :

* Connexion √† la base de donn√©es
* Variables sp√©cifiques au domaine (`APP_URL=https://ton-domaine.com`, etc.)

---

## 3. Commandes artisan (si SSH disponible)

```bash
php artisan storage:link
php artisan migrate --seed
```

‚ö†Ô∏è Si SSH n‚Äôest **pas disponible**, utiliser un script PHP temporaire pour `storage:link` ou configurer une r√®gle `.htaccess` (voir doc sp√©cifique).

---

## 4. Vidage manuel du cache (sans artisan)

En cas d‚Äôerreurs apr√®s d√©ploiement, supprimer manuellement ces fichiers/dossiers via FTP :

* `bootstrap/cache/*.php`
  (supprimer tous les fichiers sauf `.gitignore`)
* `storage/framework/cache/*`
* `storage/framework/views/*`
* `storage/framework/sessions/*`

Cela √©quivaut √† :

```bash
php artisan config:clear
php artisan cache:clear
php artisan route:clear
php artisan view:clear
```

---

## 5. Fichiers sp√©cifiques √† ajuster

### üîë ReCaptcha (`resources/js/data/data.constant.ts`)

```ts
// Pour localhost
// export const RECAPTCHA_SITE_KEY_PUBLIC: string = "cl√©-local-public";
// export const RECAPTCHA_SITE_KEY_PRIVATE: string = "cl√©-local-priv√©e";

// Pour production (ex: testpro-group.com)
export const RECAPTCHA_SITE_KEY_PUBLIC: string = "cl√©-prod-public";
export const RECAPTCHA_SITE_KEY_PRIVATE: string = "cl√©-prod-priv√©e"; 
```

---

### üé® CSS personnalis√© (`resources/views/app.blade.php`)

Si erreur *"custom css not found"*, remplacer :

```blade
{{-- custom css --}}
<link rel="stylesheet" href="{{ mix('css/custom.css') }}">
```

par :

```blade
{{-- On prod --}}
<link rel="stylesheet" href="{{ asset('css/custom.css') }}">
```

---

üëâ Veux-tu que je t‚Äôajoute aussi une **checklist finale** (genre ‚úÖ connexion DB, ‚úÖ storage accessible, ‚úÖ cache vid√©, etc.) pour ton d√©ploiement afin de ne rien oublier ?
